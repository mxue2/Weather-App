(window["webpackJsonpexercise5-weather"]=window["webpackJsonpexercise5-weather"]||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/Fog.9e2993e6.jpeg"},19:function(e,t,a){e.exports=a.p+"static/media/Thunderstorm.91ae2e46.jpeg"},20:function(e,t,a){e.exports=a.p+"static/media/Drizzle.86726ded.jpeg"},21:function(e,t,a){e.exports=a.p+"static/media/Rain.4d7bbd92.jpeg"},22:function(e,t,a){e.exports=a.p+"static/media/Snow.3fdfb20c.jpeg"},23:function(e,t,a){e.exports=a.p+"static/media/Clear.846f45c7.jpeg"},24:function(e,t,a){e.exports=a.p+"static/media/Clouds.9afbeb9e.jpeg"},25:function(e,t,a){e.exports=a(48)},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(16),s=a.n(i),c=a(2),o=a(3),u=a(5),l=a(4),p=a(6),d=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"current-weather-container"},r.a.createElement("div",{className:"celus-container"},r.a.createElement("h1",null,this.props.temp,r.a.createElement("span",null,"\xb0")),r.a.createElement("p",null,this.props.description),r.a.createElement("img",{src:this.props.icon,alt:"icon"})),r.a.createElement("hr",{className:"line-divider"}),r.a.createElement("div",{className:"info-container"},r.a.createElement("p",{className:"info-container_city"},this.props.city),r.a.createElement("p",{className:"info-container_date"},this.props.time)))}}]),t}(r.a.Component),m=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleInput=function(e){a.setState({query:e.target.value})},a.handleClick=function(e){e.target.previousElementSibling.value="",a.setState({query:""})},a.handleSubmit=function(e){e.preventDefault(),a.props.searching(a.state.query)},a.state={query:""},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"search-container"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",placeholder:" ",onInput:this.handleInput}),r.a.createElement("span",{onClick:this.handleClick})))}}]),t}(r.a.Component),h=a(17),f=a.n(h).a.create({baseURL:"https://api.openweathermap.org/data/2.5/"}),g=function(e){return r.a.createElement("div",{className:"pie progress-".concat(e.piePercent)},r.a.createElement("span",{className:"pie-number"},e.pienum,r.a.createElement("span",{className:"pie-percent",style:"Wind"===e.label?{display:"none"}:{}},"%")),r.a.createElement("div",{className:"pie-container"},r.a.createElement("div",{className:"left-side half-circle"}),r.a.createElement("div",{className:"right-side half-circle"})),r.a.createElement("div",{className:"pie-shadow",style:100===e.piePercent?{borderColor:"#3498db"}:{borderColor:"#bdc3c7"}}),r.a.createElement("div",{className:"pie-label"},e.label))},b=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).calWind=function(){return a.props.wind<.3?[0,0]:a.props.wind>=.3&&a.props.wind<=1.5?[1,100*(1/12).toFixed(2)]:a.props.wind>=1.6&&a.props.wind<=3.3?[2,100*(2/12).toFixed(2)]:a.props.wind>=3.4&&a.props.wind<=5.5?[3,100*.25.toFixed(2)]:a.props.wind>=5.5&&a.props.wind<=7.9?[4,100*(4/12).toFixed(2)]:a.props.wind>=8&&a.props.wind<=10.7?[5,100*(5/12).toFixed(2)]:a.props.wind>=10.8&&a.props.wind<=13.8?[6,100*.5.toFixed(2)]:a.props.wind>=13.9&&a.props.wind<=17.1?[7,100*(7/12).toFixed(2)]:a.props.wind>=17.2&&a.props.wind<=20.7?[8,100*(8/12).toFixed(2)]:a.props.wind>=20.8&&a.props.wind<=24.4?[9,100*.75.toFixed(2)]:a.props.wind>=24.5&&a.props.wind<=28.4?[10,100*(10/12).toFixed(2)]:a.props.wind>=28.5&&a.props.wind<=32.6?[11,100*(11/12).toFixed(2)]:a.props.wind>=32.7?[12,100*1..toFixed(2)]:void 0},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"detail-weather-container"},r.a.createElement("div",{className:"time-container"},r.a.createElement("p",{className:"time-container-sunrise"},"sunrise ",this.props.sunrise),r.a.createElement("p",{className:"time-container-sunset"},"sunset ",this.props.sunset)),r.a.createElement("div",{className:"related-weather-info-container"},r.a.createElement(g,{label:"Clouds",pienum:this.props.clouds,piePercent:this.props.clouds}),r.a.createElement(g,{label:"Humidity",pienum:this.props.humidity,piePercent:this.props.humidity}),r.a.createElement(g,{label:"Wind",pienum:this.calWind()[0],piePercent:this.calWind()[1]})))}}]),t}(r.a.Component),y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).barDom=r.a.createRef(),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setStyle()}},{key:"setMarginLeft",value:function(){var e=this.props.width/(this.props.length+1)*(this.props.index+1)+"px";this.barDom.current.style.left=e}},{key:"setStyle",value:function(){this.setMarginLeft(),this.barDom.current.animate([{height:0},{height:this.props.height}],{duration:800,delay:this.props.animationDelay,fill:"forwards"})}},{key:"componentDidUpdate",value:function(e){e.query!==this.props.query&&this.setStyle(),e.width!==this.props.width&&this.setMarginLeft()}},{key:"render",value:function(){return r.a.createElement("div",{className:"igFrameBar-igData",ref:this.barDom},r.a.createElement("span",{className:"igFrameBar-igData-degree"},this.props.temp,"\xb0"),r.a.createElement("span",{className:"igFrameBar-igData-time"},this.props.day))}}]),t}(r.a.Component),w=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).barContainerDom=r.a.createRef(),a.state={styleInfo:[],query:"",width:0},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({query:this.props.query}),this.calculateBarStyles(this.props.forecast),window.addEventListener("resize",(function(){e.setState({width:e.barContainerDom.current.clientWidth})}))}},{key:"componentWillUnmount",value:function(){var e=this;console.log("object"),this.barContainerDom=r.a.createRef(),window.removeEventListener("resize",(function(){e.setState({width:e.barContainerDom.current.clientWidth})}))}},{key:"componentDidUpdate",value:function(e){e.query!==this.props.query&&(this.setState({query:this.props.query}),this.calculateBarStyles(this.props.forecast))}},{key:"getBarComponents",value:function(){var e=this;return this.state.styleInfo.map((function(t,a){return r.a.createElement(y,{width:e.state.width,query:e.state.query,key:a,index:a,left:t.marginLeft,height:t.height,day:t.day,temp:t.temp,animationDelay:t.animationDelay,length:Object.keys(e.props.forecast).length})}))}},{key:"calculateBarStyles",value:function(e){var t=this.barContainerDom.current.clientWidth,a=Object.keys(e),n=Object.values(e),r=[],i=0,s=new Array(n.length);n.map((function(e){return Number(e)})).sort((function(e,t){return e>t?1:-1})).forEach((function(e){i+=.7/n.length,n.forEach((function(t,a){e===Number(t)&&(s[a]=i)}))}));for(var c=0;c<a.length;c++){var o=t/(a.length+1)*(c+1)+"px",u=n[c],l=100*s[c].toFixed(2)+"%",p=a[c],d=100*c;r.push({marginLeft:o,temp:u,height:l,day:p,animationDelay:d})}this.setState({styleInfo:r,width:t})}},{key:"render",value:function(){return r.a.createElement("div",{className:"detail-temperature-container"},r.a.createElement("p",null,"Temperature"),r.a.createElement("div",{className:"igFrameBar",ref:this.barContainerDom},this.getBarComponents()))}}]),t}(r.a.Component),v=a(18),E=a.n(v),k=a(19),D=a.n(k),j=a(20),O=a.n(j),N=a(21),x=a.n(N),S=a(22),F=a.n(S),C=a(23),q=a.n(C),R=a(24),M=a.n(R),I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).setBackground=function(e){if(["Mist","Tornado","Squall","Ash","Dust","Sand","Fog","Haze","Smoke"].includes(e))a.bgRef.current.style.backgroundImage="url(".concat(E.a,")"),a.bgRef.current.style.backgroundPosition="center";else switch(e){case"Thunderstorm":a.bgRef.current.style.backgroundImage="url(".concat(D.a,")"),a.bgRef.current.style.backgroundPosition="center";break;case"Drizzle":a.bgRef.current.style.backgroundImage="url(".concat(O.a,")"),a.bgRef.current.style.backgroundPosition="bottom";break;case"Rain":a.bgRef.current.style.backgroundImage="url(".concat(x.a,")"),a.bgRef.current.style.backgroundPosition="bottom";break;case"Snow":a.bgRef.current.style.backgroundImage="url(".concat(F.a,")"),a.bgRef.current.style.backgroundPosition="bottom";break;case"Clear":a.bgRef.current.style.backgroundImage="url(".concat(q.a,")"),a.bgRef.current.style.backgroundPosition="center";break;case"Clouds":a.bgRef.current.style.backgroundImage="url(".concat(M.a,")"),a.bgRef.current.style.backgroundPosition="bottom"}},a.getDataFromOpenweather=function(e){f.get("weather",{params:{q:e,appid:"ac844fe4fb88e2c1ab652f2d160d053e",units:"metric"}}).then((function(e){a.setState({currData:{temp:e.data.main.temp.toFixed(0),description:e.data.weather[0].description,city:e.data.name,time:a.timeConverter(e.data.dt),weatherIcon:"http://openweathermap.org/img/wn/"+e.data.weather[0].icon+".png",sunrise:a.getTime(e.data.sys.sunrise),sunset:a.getTime(e.data.sys.sunset),clouds:e.data.clouds.all,humidity:e.data.main.humidity,wind:e.data.wind.speed}}),a.setBackground(e.data.weather[0].main)})),f.get("forecast",{params:{q:e,appid:"ac844fe4fb88e2c1ab652f2d160d053e",units:"metric"}}).then((function(e){var t=e.data.list,n={},r=a.getDate(t[0].dt),i=[];t.forEach((function(e){var t=a.getDate(e.dt);t===r?i.push(e.main.temp):(n[r]=i,r=t,i=[])})),Object.keys(n).forEach((function(e){n[e]=(n[e].reduce((function(e,t){return e+t}),0)/n[e].length).toFixed(0)})),a.setState({forecastWeather:n,loading:!1})}))},a.handleSearching=function(e){a.setState({query:e,loading:!0}),a.getDataFromOpenweather(e)},a.bgRef=r.a.createRef(),a.state={loading:!0,currData:{temp:0,description:"",city:"",time:"",weatherIcon:"",sunrise:"",sunset:"",clouds:0,humidity:0,wind:0},forecastWeather:{},query:"Melbourne"},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getDataFromOpenweather(this.state.query)}},{key:"getHour",value:function(e){var t=new Date(1e3*e).getHours();return t>12?t-12+"PM":t+"AM"}},{key:"getDate",value:function(e){return new Date(1e3*e).getDate()}},{key:"getTime",value:function(e){var t=new Date(1e3*e),a=t.getMinutes(),n=t.getHours();return n>12?n-12+":"+a+"PM":n+":"+a+"AM"}},{key:"timeConverter",value:function(e){var t=new Date(1e3*e),a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()],n=t.getFullYear(),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],i=t.getDate(),s=t.getMinutes(),c=t.getHours();return a+" - "+i+" "+r+" "+n+" - "+(c>12?c-12+":"+s+"PM":c+":"+s+"AM")}},{key:"renderPage",value:function(){return this.state.loading?r.a.createElement("div",null):r.a.createElement(w,{query:this.state.query,forecast:this.state.forecastWeather})}},{key:"render",value:function(){return r.a.createElement("div",{className:"app-container",ref:this.bgRef},r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"left-container"},r.a.createElement(m,{searching:this.handleSearching}),r.a.createElement(d,{temp:this.state.currData.temp,description:this.state.currData.description,city:this.state.currData.city,time:this.state.currData.time,icon:this.state.currData.weatherIcon})),r.a.createElement("div",{className:"right-container"},r.a.createElement(b,{sunrise:this.state.currData.sunrise,sunset:this.state.currData.sunset,wind:this.state.currData.wind,humidity:this.state.currData.humidity,clouds:this.state.currData.clouds}),this.renderPage())))}}]),t}(r.a.Component);a(47);s.a.render(r.a.createElement(I,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.c09dd839.chunk.js.map